import{buf2str as o,str2buf as t}from"./data.js";const{O_RDONLY:n}=hmFS,{O_WRONLY:e}=hmFS,{O_RDWR:s}=hmFS,{O_APPEND:i}=hmFS,{O_CREAT:p}=hmFS,{O_EXCL:h}=hmFS,{O_TRUNC:f}=hmFS,openSync=o=>hmFS.open(o.path,o.flag||n),openAssetsSync=o=>hmFS.open_asset(o.path,o.flag||n),statSync=o=>{const[t,n]=hmFS.stat(o.path);return 0===n?t:void 0},statAssetsSync=o=>{const[t,n]=hmFS.stat_asset(o.path);return 0===n?t:void 0},closeSync=o=>"number"==typeof o?hmFS.close(o):hmFS.close(o.fd),readSync=o=>(o.options=o.options||{},o.options.length=o.options.length||o.buffer.byteLength,o.options.offset=o.options.offset||0,o.options.position&&hmFS.seek(o.fd,o.options.position,hmFS.SEEK_SET),hmFS.read(o.fd,o.buffer,o.options.offset,o.options.length)),writeSync=o=>(o.options=o.options||{},o.options.length=o.options.length||o.buffer.byteLength,o.options.offset=o.options.offset||0,o.options.position&&hmFS.seek(o.fd,o.options.position,hmFS.SEEK_SET),hmFS.write(o.fd,o.buffer,o.options.offset,o.options.length)),rmSync=o=>"string"==typeof o?hmFS.remove(o):hmFS.remove(o.path),renameSync=o=>hmFS.rename(o.oldPath,o.newPath),mkdirSync=o=>"string"==typeof o?hmFS.mkdir(o):hmFS.mkdir(o.path),readdirSync=o=>{const[t,n]=hmFS.readdir(o.path);return 0===n?t:void 0},readFileSync=t=>{const n=statSync(t);if(void 0===n)return;const e=new ArrayBuffer(n.size),s=hmFS.open(t.path,hmFS.O_RDONLY);return readSync({fd:s,buffer:e}),closeSync(s),t.options&&t.options.encoding?o(e,t.options.encoding):e},writeFileSync=o=>{const n="number"==typeof o.path?o.path:hmFS.open(o.path,hmFS.O_WRONLY),e="string"==typeof o.data?t(o.data,o.options&&o.options.encoding):o.data instanceof ArrayBuffer?o.data:o.data.buffer;writeSync({fd:n,buffer:e}),closeSync({fd:n})};export{i as O_APPEND,p as O_CREAT,h as O_EXCL,n as O_RDONLY,s as O_RDWR,f as O_TRUNC,e as O_WRONLY,closeSync,mkdirSync,openAssetsSync,openSync,readFileSync,readSync,readdirSync,renameSync,rmSync,statAssetsSync,statSync,writeFileSync,writeSync};
