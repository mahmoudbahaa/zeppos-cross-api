import"./utils.js";import{log as e}from"@zos/utils";import{g as i}from"./file-transfer-D2Gn5YRm.js";import"./bleTransferFile.js";import r from"@zos/ble/TransferFile";function loggerPlugin(){return{onInit(){this.logger=e.getLogger(this.name||"Page"),this.log=(...e)=>{this.logger.log(...e)},this.error=(...e)=>{e[0]instanceof Error?this.logger.error(...e):this.logger.error({},...e)},this.debug=(...e)=>{this.logger.debug(...e)}},onCreate(){this.logger=e.getLogger(this.name||"app.js"),this.log=(...e)=>{this.logger.log(...e)},this.error=(...e)=>{e[0]instanceof Error?this.logger.error(...e):this.logger.error({},...e)},this.debug=(...e)=>{this.logger.debug(...e)}}}}function httpRequest(e,i={}){return this.messaging.request({method:"http.request",params:e},i)}const t=i(new r);function appPlugin(e){return{onCreate(){t.onFile(this.onReceivedFile?.bind(this))},onDestroy(){t.offFile()},sendFile:(e,i)=>t.sendFile(e,i)}}function pagePlugin(e){return{onInit(){this._onReceivedFile=this.onReceivedFile?.bind(this),t.onFile(this._onReceivedFile)},onDestroy(){this._onReceivedFile&&t.offFile(this._onReceivedFile)},sendFile:(e,i)=>t.sendFile(e,i)}}export{appPlugin as a,httpRequest as h,loggerPlugin as l,pagePlugin as p};
